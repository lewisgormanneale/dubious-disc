<div class="flex flex-col items-center p-4">
  <div class="max-w-screen-xl bg-zinc-950 rounded p-4">
    <ng-container *ngIf="pokemonSpecies && pokemonForms; else loading">
      <div class="flex flex-col items-center">
        <div class="flex flex-col items-center" style="max-width: 900px">
          <section
            *ngIf="pokemonTypes && pokemonTypes.length > 0"
            class="flex flex-col md:flex-row items-center md:items-start gap-3 w-full"
          >
            <div
              class="text-center border border-zinc-800 w-full rounded h-[483px] flex flex-col justify-between"
            >
              <img
                src="{{ this.imageUrl }}"
                class="w-full h-full object-contain min-w-[300px] rounded-t"
                [style.background]="
                  pokemonTypes && pokemonTypes.length > 1
                    ? 'linear-gradient(to bottom right, #' +
                      pokemonTypes[0].type_id.type_color +
                      ',' +
                      '#' +
                      pokemonTypes[1].type_id.type_color +
                      ')'
                    : '#' + pokemonTypes[0].type_id.type_color
                "
              />
              <div>
                <div
                  class="bg-byzantium border-t border-zinc-800"
                  style="height: 50px"
                >
                  <h2 class="p-2">
                    <span class="white-outlined text-xl"
                      >#{{ pokemonSpecies.id }}</span
                    ><span class="font-sans-bold text-xl">
                      {{ pokemonSpecies.name }}</span
                    >
                  </h2>
                </div>
                <div
                  class="flex justify-between items-center px-2 bg-zinc-800"
                  [ngClass]="
                    pokemonTypes.length > 1
                      ? 'justify-content-between'
                      : 'justify-content-center'
                  "
                  style="height: 50px"
                >
                  <app-type-box
                    *ngFor="let type of pokemonTypes"
                    [type]="type.type_id"
                  ></app-type-box>
                </div>
              </div>
            </div>
            <div
              class="flex flex-col justify-content-between w-full gap-3 rounded"
              *ngIf="selectedForm.id"
            >
              <app-pokemon-data
                [pokemon]="selectedForm"
                [pokemon_species]="pokemonSpecies"
              ></app-pokemon-data>
              <app-pokemon-stats
                [pokemon_id]="selectedForm.id"
              ></app-pokemon-stats>
            </div>
          </section>
          <section
            class="w-full justify-content-center my-3"
            *ngIf="pokemonForms.length > 1"
          >
            <app-pokemon-forms
              (newSelectedForm)="handleNewSelectedForm($event)"
              [pokemonForms]="pokemonForms"
              [selectedForm]="selectedForm"
            ></app-pokemon-forms>
          </section>
          <section
            class="w-full justify-content-center my-3"
            *ngIf="pokemonSpecies.id"
          >
            <app-pokemon-descriptions
              [pokemon_species_id]="pokemonSpecies.id"
            ></app-pokemon-descriptions>
          </section>
        </div>
      </div>
    </ng-container>
    <ng-template #loading>
      <div class="w-full">
        <app-spinner></app-spinner>
      </div>
    </ng-template>
  </div>
</div>
